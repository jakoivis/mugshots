"use strict";

var list = [

    {src:"assets/images/background/_MG_0248.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0254.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0256.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0263.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0264.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0265.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0266.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0267.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0268.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0269.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0271.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0272.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0273.jpg", groupName:"background"},
    {src:"assets/images/background/_MG_0274.jpg", groupName:"background"},

    {src:"assets/images/chin/00.png", groupName:"chin", boundsBottom:"285"},
    {src:"assets/images/chin/01.png", groupName:"chin", boundsBottom:"285"},
    {src:"assets/images/chin/02.png", groupName:"chin", boundsBottom:"290"},
    {src:"assets/images/chin/03.png", groupName:"chin", boundsBottom:"315"},
    {src:"assets/images/chin/04.png", groupName:"chin", boundsBottom:"326"},
    {src:"assets/images/chin/05.png", groupName:"chin", boundsBottom:"357"},
    {src:"assets/images/chin/06.png", groupName:"chin", boundsBottom:"305"},
    {src:"assets/images/chin/07.png", groupName:"chin", boundsBottom:"300"},
    {src:"assets/images/chin/08.png", groupName:"chin", boundsBottom:"353"},
    {src:"assets/images/chin/09.png", groupName:"chin", boundsBottom:"337"},
    {src:"assets/images/chin/10.png", groupName:"chin", boundsBottom:"345"},
    {src:"assets/images/chin/11.png", groupName:"chin", boundsBottom:"328"},
    {src:"assets/images/chin/12.png", groupName:"chin", boundsBottom:"277"},
    {src:"assets/images/chin/14.png", groupName:"chin", boundsBottom:"282"},
    {src:"assets/images/chin/15.png", groupName:"chin", boundsBottom:"315"},
    {src:"assets/images/chin/16.png", groupName:"chin", boundsBottom:"313"},
    {src:"assets/images/chin/17.png", groupName:"chin", boundsBottom:"320"},
    {src:"assets/images/chin/18.png", groupName:"chin", boundsBottom:"360"},
    {src:"assets/images/chin/19.png", groupName:"chin", boundsBottom:"345"},
    {src:"assets/images/chin/20.png", groupName:"chin", boundsBottom:"290"},
    {src:"assets/images/chin/21.png", groupName:"chin", boundsBottom:"300"},
    {src:"assets/images/chin/22.png", groupName:"chin", boundsBottom:"318"},
    {src:"assets/images/chin/23.png", groupName:"chin", boundsBottom:"286"},
    {src:"assets/images/chin/24.png", groupName:"chin", boundsBottom:"344"},
    {src:"assets/images/chin/25.png", groupName:"chin", boundsBottom:"343"},
    {src:"assets/images/chin/26.png", groupName:"chin", boundsBottom:"340"},
    {src:"assets/images/chin/27.png", groupName:"chin", boundsBottom:"308"},
    {src:"assets/images/chin/28.png", groupName:"chin", boundsBottom:"279"},
    {src:"assets/images/chin/29.png", groupName:"chin", boundsBottom:"317"},
    {src:"assets/images/chin/31.png", groupName:"chin", boundsBottom:"351"},
    {src:"assets/images/chin/32.png", groupName:"chin", boundsBottom:"294"},
    {src:"assets/images/chin/33.png", groupName:"chin", boundsBottom:"281"},
    {src:"assets/images/chin/34.png", groupName:"chin", boundsBottom:"278"},
    {src:"assets/images/chin/35.png", groupName:"chin", boundsBottom:"289"},
    {src:"assets/images/chin/38.png", groupName:"chin", boundsBottom:"285"},
    {src:"assets/images/chin/39.png", groupName:"chin", boundsBottom:"311"},
    {src:"assets/images/chin/40.png", groupName:"chin", boundsBottom:"293"},
    {src:"assets/images/chin/41.png", groupName:"chin", boundsBottom:"354"},
    {src:"assets/images/chin/42.png", groupName:"chin", boundsBottom:"325"},
    {src:"assets/images/chin/43.png", groupName:"chin", boundsBottom:"348"},
    {src:"assets/images/chin/44.png", groupName:"chin", boundsBottom:"284"},
    {src:"assets/images/chin/45.png", groupName:"chin", boundsBottom:"334"},
    {src:"assets/images/chin/46.png", groupName:"chin", boundsBottom:"282"},
    {src:"assets/images/chin/47.png", groupName:"chin", boundsBottom:"295"},
    {src:"assets/images/chin/49.png", groupName:"chin", boundsBottom:"342"},
    {src:"assets/images/chin/50.png", groupName:"chin", boundsBottom:"288"},
    {src:"assets/images/chin/51.png", groupName:"chin", boundsBottom:"289"},
    {src:"assets/images/chin/52.png", groupName:"chin", boundsBottom:"274"},
    {src:"assets/images/chin/53.png", groupName:"chin", boundsBottom:"284"},
    {src:"assets/images/chin/54.png", groupName:"chin", boundsBottom:"289"},
    {src:"assets/images/chin/55.png", groupName:"chin", boundsBottom:"307"},
    {src:"assets/images/chin/56.png", groupName:"chin", boundsBottom:"286"},
    {src:"assets/images/chin/57.png", groupName:"chin", boundsBottom:"298"},
    {src:"assets/images/chin/58.png", groupName:"chin", boundsBottom:"271"},
    {src:"assets/images/chin/59.png", groupName:"chin", boundsBottom:"331"},
    {src:"assets/images/chin/60.png", groupName:"chin", boundsBottom:"352"},
    {src:"assets/images/chin/63.png", groupName:"chin", boundsBottom:"304"},
    {src:"assets/images/chin/64.png", groupName:"chin", boundsBottom:"339"},
    {src:"assets/images/chin/65.png", groupName:"chin", boundsBottom:"311"},

    {src:"assets/images/nose/_MG_0248.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0254.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0256.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0263.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0264.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0265.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0266.png", groupName:"nose"},
    {src:"assets/images/nose/_MG_0267.png", groupName:"nose"},

    {src:"assets/images/mouth/_MG_0248.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0254.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0256.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0263.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0264.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0265.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0266.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0267.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0268.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0269.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0271.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0272.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0273.png", groupName:"mouth"},
    {src:"assets/images/mouth/_MG_0274.png", groupName:"mouth"},

    {src:"assets/images/lefteye/_MG_0248.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0254.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0256.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0263.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0264.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0265.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0266.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0267.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0268.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0269.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0271.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0272.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0273.png", groupName:"lefteye"},
    {src:"assets/images/lefteye/_MG_0274.png", groupName:"lefteye"},

    {src:"assets/images/righteye/_MG_0248.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0254.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0256.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0263.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0264.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0265.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0266.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0267.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0268.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0269.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0271.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0272.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0273.png", groupName:"righteye"},
    {src:"assets/images/righteye/_MG_0274.png", groupName:"righteye"},

];

function PreloaderList(list)
{
    // returns the list sorted so that loader loads items
    // from all groups in parallel instead of one group at a time
    function getList()
    {
        var groups = createFacePartGroups(list);
        var sortedList = createSortedList(groups);
        return sortedList;
    }

    function createFacePartGroups(facePartList)
    {
        var result = [];
        var groupNames = [];
        var groupName;
        var groupIndex;
        var item;

        for(var i = 0; i < facePartList.length; i++)
        {
            item = facePartList[i];
            groupName = item.groupName;
            groupIndex = groupNames.indexOf(groupName);

            if(groupIndex < 0)
            {
                groupNames.push(groupName);
                result.push([]);
                groupIndex = groupNames.indexOf(groupName);
            }

            result[groupIndex].push(item);
        }

        return result;
    }

    function createSortedList(facePartGroups)
    {
        var length = getHighestGroupLength(facePartGroups);
        var numberOfGroups = facePartGroups.length;
        var result = [];
        var item;

        for(var i = 0; i < length; i++)
        {
            for(var j = 0; j < numberOfGroups; j++)
            {
                item = facePartGroups[j][i];

                if(item)
                {
                    result.push(item);
                }
            }
        }

        return result;
    }

    function getHighestGroupLength(facePartGroups)
    {
        var highestLength = 0;

        for(var i = 0; i < facePartGroups.length; i++)
        {
            if(facePartGroups[i].length > highestLength)
            {
                highestLength = facePartGroups[i].length;
            }
        }

        return highestLength;
    }

    return {
        getList: getList
    };
}

module.exports = new PreloaderList(list);